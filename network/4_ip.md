# IP(Internet Protocol)

## 패킷(packet)
- 데이터를 전송하기 위해 작게 자른 단위
- 전송 중 손실이 생길 수 있는데, 손실된 패킷만 다시 보내면 되니까 자원 낭비를 줄일 수 있음
- 패킷 하나의 최대 크기 : 약 65KB
- 각 패킷은 보내지는 상황에 있어서 가장 최적의 경로를 찾아감 -> 다양한 회선을 효율적으로 이용 가능

## IP의 특징
- 주된 역할 : 패킷을 정해진 목적지까지 전달하는 일
- 외부에서 패킷이 들어오면 패킷의 목적지가 내 IP주소와 맞는지 비교하고, 아니면 다른 호스트로 전달함
- 단, 주소를 확인해서 전달을 책임질 뿐, 패킷의 손실/중복과 같은 상태 이상은 확인하지 않음
- 비신뢰성(unreliable), 비연결성(connectionless)
- 패킷 전달 이상 유무는 TCP에서 함

<br><br>

# IPv4
## 의미
- 192.168.0.1 같은 방식으로 표기
- 32비트 주소 체계 (8비트 = 1옥텟, 32비트 = 4옥텟)
- 네트워크 주소와 호스트 주소로 구성돼있음
- 호스트 주소의 첫번째 부분 (0)은 네트워크 자체의 주소를 의미
- 호스트 주소의 마지막 부분은 브로드캐스트를 위한 주소를 의미 (해당 네트워크에 속한 모든 호스트에게 패킷을 전달할 수 있는 주소)
## 클래스
- 네트워크 부분을 나누는 기준이었음
- A는 1옥텟까지가 네트워크 주소, B는 2옥텟까지, C는 3옥텟까지가 네트워크 주소임
- D, E 클래스는 특수용으로 쓰임

<br><br>

# IPv4의 주소 고갈 문제 해결
- 문제 이유 : 인터넷 보급이 늘어나면서 IP를 필요로 하는 사용자, 기기 증가
- 이를 위한 여러가지 해결방안이 나옴
	- 클래스를 대체하는 새로운 할당 방법 CIDR
	- 필요할 때만 IP 주소를 할당 받음
	- 여러 기기에서 하나의 공용 IP를 사용하는 NAT
	- IPv6

## CIDR (Classless Inter_domain Routing, 사이더)
- 선택지가 제한적인 클래스 방식의 네트워크 주소 체계 보완
- 네트워크 부부의 구분점을 1비트 단위로 쪼갬
- 서브넷 마스크
	- 네트워크 주소 부분이 어디까지이지 표기
	- 맨 앞(왼)자리 부터 1,0 으로 표기함 (1이면 네트워크 주소 부분, 0이면 호스트 주소 부분)
	- 1은 연속적으로 배치됨
	- 10진수로 바꿔서 `255.255.255.0` 이런식으로 표기됨
	- `192.168.0.1/24` 이런식으로도 표기됨

## DHCP (Dynamic Host Configureation Protocol)
- 유동 IP(dynamic IP) : 기기가 인터넷을 사용할 때 IP를 할당받고, 사용하지 않을 때 반납함
- 고정 IP(static IP) : 한번 할당받은 IP를 계속 점유하며 사용함
- 집에서는 공유기가 IP주소를 관리하기에 공유기가 DHCP로 IP를 기기에 할당해줌

## NAT (Network Address Translation)
- 공인 IP(public IP) : 인터넷 상에서 유일한 주소이면서 ISP에서 공식으로 할당한 주소
- 사설 IP(private IP) : 상세주소, 특정 네트워크 내에서 사적인 용도로 사용
	- 10.0.0.0 ~ 10.255.255.255
	- 172.16.0.0 ~ 172.31.255.255
	- 192.168.0.0 ~ 192.168.255.255
- 공유기에서 자동으로 해줌. 공유기에서 주소변환(NAT)할 때 그 정보를 저장해놓아서 외부랑 통신을 주고 받을 때 문제 없게 해줌
- 사용할 수 있는 IP 개수를 늘릴 수 있음
- 보안을 위해 사용하기도 함. 외부에서 보면 하나의 IP로 보이기 때문

## IPv6
- 128비트 체계. (2의 32제곱 개의 IP 개수 = 42억의 4제곱)
- 16진수 사용. 8옥텟(8바이트, 64비트) 마다 콜론(:)으로 구분함
- NAT 지원하지 않음
- 이미 IPv4를 사용하고 있는 레거시가 많고, 체계가 전혀 다르기 때문에 여전히 IPv4가 주로 사용되고 있음






